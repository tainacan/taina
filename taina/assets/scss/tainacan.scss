/* Settings the colors used by most Tainacan blocks */
:root {
    --tainacan-block-primary: var(--wp--preset--color--primary);
    --tainacan-secondary: var(--wp--preset--color--primary);
    --tainacan-primary: var(--wp--preset--color--background-alt);
    --tainacan-block-gray0: var(--wp--preset--color--background-alt);
    --tainacan-block-gray1: var(--wp--preset--color--background-alt);
    --tainacan-block-gray2: var(--wp--preset--color--foreground);
    --tainacan-block-gray3: var(--wp--preset--color--foreground);
    --tainacan-block-gray4: var(--wp--preset--color--foreground-alt);
    --tainacan-block-gray5: var(--wp--preset--color--foreground-alt);
}


/* General Tainacan Comnponents */
.theme-items-list,
.tainacan-item-submission-form, 
.tainacan-modal-content {
    --tainacan-font-family: var(--wp--preset--font-family--default);
    --tainacan-block-primary: var(--wp--preset--color--primary);
    --tainacan-secondary: var(--wp--preset--color--primary);
    --tainacan-primary: var(--wp--preset--color--background-alt);
    --tainacan-block-gray0: var(--wp--preset--color--background-alt);
    --tainacan-block-gray1: var(--wp--preset--color--background-alt);
    --tainacan-block-gray2: var(--wp--preset--color--foreground);
    --tainacan-block-gray3: var(--wp--preset--color--foreground);
    --tainacan-block-gray4: var(--wp--preset--color--foreground-alt);
    --tainacan-block-gray5: var(--wp--preset--color--foreground-alt);
    --tainacan-input-border-radius: 0px;
    --tainacan-button-border-radius: 0px;
    --tainacan-dropdownmenu-border-radius: 0px;
    --tainacan-modal-border-radius: 0px;
    --tainacan-item-border-radius: 0px;
}

/* Tainacan listing blocks have smaller font sizes by default and alternative background */
.wp-block-tainacan-dynamic-items-list li.item-list-item,
.wp-block-tainacan-collections-list li.collection-list-item,
.wp-block-tainacan-terms-list li.term-list-item,
.wp-block-tainacan-carousel-items-list li.item-list-item,
.wp-block-tainacan-carousel-collections-list li.collection-list-item,
.wp-block-tainacan-carousel-terms-list li.term-list-item {
    background-color: var(--wp--preset--color--background-alt);
    margin-top: 6px;
    margin-bottom: 6px;
    
    a {
        text-decoration: none !important;
        margin-bottom: 0px !important;

        img {
            margin-bottom: 0px !important;
            display: block;
        }
        span:last-child {
            font-weight: normal !important;
            font-size: var(--wp--preset--font-size--tiny);
            padding: 6px 12px;
            margin: 0px !important;
            display: block;
            width: 100%;
        }
    }
}

/* Collection headers have an alternative styles as well */
.wp-block-tainacan-dynamic-items-list .dynamic-items-collection-header,
.wp-block-tainacan-carousel-items-list .carousel-items-collection-header {
    flex-direction: row-reverse !important;
    min-height: 158px !important;
}
.wp-block-tainacan-dynamic-items-list .dynamic-items-collection-header .collection-thumbnail,
.wp-block-tainacan-carousel-items-list .carousel-items-collection-header .collection-thumbnail {
    border-radius: 0 !important;
    border: none !important;
    margin: 0 !important;
    height: 158px !important;
    width: 158px !important;
    position: unset !important;
}
.wp-block-tainacan-dynamic-items-list .dynamic-items-collection-header .collection-name,
.wp-block-tainacan-carousel-items-list .carousel-items-collection-header .collection-name {
    justify-content: flex-start !important;
    padding: 1em 1em 1em 100px !important;
    min-height: 118px !important;
    flex-grow: 2 !important;
    background-color: var(--wp--preset--color--background-alt) !important;
    color: var(--wp--preset--color--primary) !important;
}
.wp-block-tainacan-dynamic-items-list .dynamic-items-collection-header .collection-name h3,
.wp-block-tainacan-carousel-items-list .carousel-items-collection-header .collection-name h3 {
    color: var(--wp--preset--color--primary) !important;
    font-size: var(--wp--preset--font-size--large) !important;
}
.wp-block-tainacan-dynamic-items-list .dynamic-items-collection-header .collection-header-image,
.wp-block-tainacan-carousel-items-list .carousel-items-collection-header .collection-header-image {
    flex-grow: 1 !important;
    min-height: 158px !important;
    /* filter: url('#wp-duotone-262626-A0303A-17') !important; */
}

/* Search bar pagination */
.wp-block-tainacan-dynamic-items-list .dynamic-items-search-bar button,
.wp-block-tainacan-carousel-items-list .dynamic-items-search-bar button {
    background-color: var(--wp--preset--color--background-alt) !important;
    padding: 0.25em !important;
    min-width: 3em;
    min-height: 3em !important;

    svg {
        fill: var(--wp--preset--color--foreground) !important;
    }
}

/* Carousel blocks depend on the box-sizing */
.wp-block-tainacan-carousel-items-list .swiper-wrapper,
.wp-block-tainacan-carousel-collections-list .swiper-wrapper,
.wp-block-tainacan-carousel-terms-list .swiper-wrapper {
    box-sizing: border-box;
}

/* Carousel arrows are squared */
.wp-block-tainacan-carousel-items-list,
.wp-block-tainacan-carousel-collections-list,
.wp-block-tainacan-carousel-terms-list {

    .tainacan-carousel,
    .items-list-edit-container,
    .collections-list-edit-container,
    .terms-list-edit-container {
        .swiper-button-next,
        .swiper-button-prev {
            background-color: var(--wp--preset--color--background-alt) !important;
            --tainacan-block-primary: var(--wp--preset--color--foreground-alt);
            max-width: 42px;
        }
    }
}

/* The media component should not have top margin and its accent color should inherit from theme */
.wp-block-tainacan-item-gallery.tainacan-media-component {
    --swiper-theme-color: var(--wp--preset--color--primary);
    margin-block-start: 0px !important;
}
/* This negative margin forces images to be aligned on top. We don't want to remove the padding from the a tag. */
.tainacan-media-component__swiper-main .swiper-slide-content a:first-of-type>img {
    margin-top: -1rem;
}

/* Media Gallery arrows are also squared */
.wp-block-tainacan-item-gallery .tainacan-media-component__swiper-main .swiper-button-next.swiper-button-has-svg,
.wp-block-tainacan-item-gallery .tainacan-media-component__swiper-main .swiper-button-prev.swiper-button-has-svg,
.wp-block-tainacan-item-gallery .tainacan-media-component__swiper-thumbs .swiper-button-next.swiper-button-has-svg,
.wp-block-tainacan-item-gallery .tainacan-media-component__swiper-thumbs .swiper-button-prev.swiper-button-has-svg {
    background-color: var(--wp--preset--color--background-alt) !important;
    --tainacan-block-primary: var(--wp--preset--color--foreground-alt);
    color: var(--wp--preset--color--foreground-alt);
    min-width: calc(var(--swiper-navigation-size) * 1.35);
    min-height: calc(var(--swiper-navigation-size) * 1.35);
}

/* Modal content when using filters as sidebar */
@media screen and (max-width: 768px) {
    .tainacan-modal #filters-modal .modal-content,
    .theme-items-list #filters-modal .modal-content {
        padding-left: 0px;
    }   
}

/* The items list, with a faceted search */
.wp-block-tainacan-faceted-search .theme-items-list {

    /* Textual search should be the last control */
    .search-control {
        font-family: var(--wp--preset--font-family--headings);
        --tainacan-font-family: var(--wp--preset--font-family--headings);
        font-weight: 500;

        .search-control-item:first-of-type {
            order: 1;
            margin-right: 0px;
            padding-right: 0px;
        }

        #tainacanFiltersButton .button {
            margin-left: 0px;
            padding-left: 0px !important;
        }

        .button,
        .label {
            font-weight: 500 !important;
        }
    }

    /* Filter tags have different style */
    .filter-tags-list .filter-tag {
        background-color: var(--wp--preset--color--background-alt) !important;
        border-radius: 0px !important;
        border-color: var(--wp--preset--color--background-alt) !important;
    }

    /* Dual tone to images on hover */
    // .tainacan-record,
    // .tainacan-card,
    // .tainacan-list,
    // .tainacan-card,
    // .tainacan-masonry-item {
    //     &:hover img {
    //         filter: url('#wp-duotone-262626-A0303A-16');
    //     }
    // }

    /* Masonry items show title bellow the image */
    .tainacan-masonry-item {
        display: flex !important;
        flex-direction: column-reverse;
    }
    /* Some view modes have bold title */
    .tainacan-record,
    .tainacan-card,
    .tainacan-list {
        .metadata-title {
            font-weight: bold;
        }
    }
    /* These view modes escape from the variable as they have different backgorunds */
    .tainacan-record,
    .tainacan-list,
    .tainacan-card {
        background-color: var(--tainacan-item-background-color) !important;
    }
    .tainacan-cards-container .tainacan-card {
        display: block;

        img {
            width: 166px !important;
            height: 166px !important;
        }
    }

    /* Table view mode */
    .table-container .table-wrapper table.tainacan-table {

        thead th {
            border-bottom-color: var(--wp--preset--color--primary);
            
            .th-wrap {
                font-weight: bold !important;
                font-family: var(--wp--preset--font-family--headings);
                font-size: var(--wp--preset--font-size--tiny) !important;
                text-align: left !important;
            }
        }
        .thumbnail-cell {
            padding: 0px;
            min-width: 60px;
            width: 60px;
            text-align: left;

            .th-wrap {
                visibility: hidden;
            }
            img {
                min-height: 60px;
                min-width: 60px;
            }
        }
        td,
        th {
            padding: 10px 1.25em;
            
            &.column-main-content {
                font-weight: bold;
            }
        }
        tbody {
            tr:hover {
                font-style: italic;
                --tainacan-input-color: var(--wp--preset--color--foreground-alt);
                --tainacan-info-color: var(--wp--preset--color--foreground-alt);
            }
            tr td {
                border-top: 3px solid var(--wp--preset--color--background-alt) !important;
                border-bottom: 2px solid var(--wp--preset--color--background-alt) !important;

                p {
                    font-size: 0.875em;
                }
            }
        }
    }

    /* Tainacan Records view mode */
    .tainacan-records-container .tainacan-record {
        .metadata-title p {
            white-space: pre-wrap !important;
        }
        .media .list-metadata {
            padding: 0.25em 0.875em 0.75em 0.875em;
            
            .tainacan-record-thumbnail {
                margin: 0 -0.875em var(--tainacan-container-padding) var(--tainacan-container-padding);
            }
        }
    }

    /* Pagination */
    .pagination-area {
        font-family: var(--wp--preset--font-family--headings);
        --tainacan-font-family: var(--wp--preset--font-family--headings);
        font-weight: 500;
        border-top: none;
        margin: 3.125rem var(--wp--custom--spacing--one-column);

        .button,
        .label {
            font-weight: 500 !important;
        }

        .pagination {
            li {
                margin-left: 0px;
                margin-right: 0px;
                margin-top: 4px !important;
            }
            .pagination-link {
                border-radius: 0px !important;
                border: 2px solid var(--wp--preset--color--background) !important;
                width: 2.75em !important;
                margin: 1px !important;
                font-weight: bold;
                color: var(--wp--preset--color--foreground) !important;
                box-shadow: 0 0 0 0px var(--wp--preset--color--background);
                transition: border 0.2s ease, box-shadow 0.2s ease;

                &:hover:not(.is-current) {
                    border-color: var(--wp--preset--color--primary) !important;
                    box-shadow: 0 0 0 2px var(--wp--preset--color--primary);
                    color: var(--wp--preset--color--primary) !important;
                }

                &.is-current {
                    border-color: var(--wp--preset--color--foreground) !important;
                    background-color: var(--wp--preset--color--foreground) !important;
                    color: var(--wp--preset--color--background) !important;
                    text-decoration: none !important;
                }

                &.pagination-previous,
                &.pagination-next {
                    background-color: var(--wp--preset--color--background) !important;
                }
            }
        }
    }
}

/* Removes top margin from footer */
.wp-block-tainacan-faceted-search+footer.wp-block-template-part {
    margin-top: 0px;
}
